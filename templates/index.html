<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Salão</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f3f4f6; }
        .hidden { display: none; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .tab-button { padding: 0.75rem 1rem; cursor: pointer; font-weight: 500; color: #6b7280; border-bottom: 2px solid transparent; }
        .tab-button.active { color: #2563eb; border-bottom-color: #2563eb; }
        .dark .tab-button { color: #9ca3af; }
        .dark .tab-button.active { color: #3b82f6; border-bottom-color: #3b82f6; }
        @media (prefers-color-scheme: dark) { :root { color-scheme: dark; } }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 dark:bg-gray-900 dark:text-gray-100">
    <!-- Toast -->
    <div id="toast" class="hidden fixed top-5 right-5 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50">
        <span id="toast-msg"></span>
    </div>

    <!-- TELA DE LOGIN -->
    <div id="app-login" class="flex items-center justify-center min-h-screen p-4">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-xl w-full max-w-md fade-in border border-gray-100 dark:border-gray-700">
            <h2 class="text-3xl font-bold text-center text-gray-800 dark:text-white mb-2">Bem-vindo</h2>
            <p class="text-center text-gray-500 dark:text-gray-400 mb-8">Sistema de Gestão de Salão</p>

            <!-- Form Login -->
            <div id="form-login" class="space-y-5">
                <input type="email" id="login-email" class="block w-full px-4 py-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="seu@email.com">
                <input type="password" id="login-senha" class="block w-full px-4 py-3 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="••••••••">
                <button onclick="fazerLogin()" class="w-full py-3 px-4 rounded-lg text-white font-bold bg-blue-600 hover:bg-blue-700 active:bg-blue-800 transition-all transform active:scale-95">
                    Entrar
                </button>
                <button onclick="fazerLoginVisitante()" class="w-full py-3 px-4 rounded-lg text-gray-700 font-medium bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 transition-all transform active:scale-95">
                    Entrar como Visitante (Demo)
                </button>
                <p class="mt-4 text-center text-sm text-gray-600 dark:text-gray-400 cursor-pointer" onclick="toggleForms()">Criar conta nova</p>
                <p class="mt-2 text-center text-sm text-blue-600 dark:text-blue-400 cursor-pointer" onclick="mostrarRecuperacao()">Esqueci minha senha</p>
            </div>

            <!-- Form Cadastro -->
            <div id="form-cadastro" class="hidden space-y-4">
                <input type="text" id="cad-nome" placeholder="Nome Completo" class="block w-full px-4 py-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                <input type="email" id="cad-email" placeholder="E-mail" class="block w-full px-4 py-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                <input type="password" id="cad-senha" placeholder="Senha (Mín. 8, 1 Nº, 1 Maiúscula)" class="block w-full px-4 py-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                <input type="text" id="cad-telefone" placeholder="Telefone (opcional)" class="block w-full px-4 py-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                <select id="cad-tipo" class="block w-full px-4 py-3 border rounded-lg bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                    <option value="cliente">Sou Cliente</option>
                </select>
                <button onclick="fazerCadastro()" class="w-full py-3 rounded-lg text-white font-bold bg-green-600 hover:bg-green-700 active:bg-green-800 transition-all transform active:scale-95">Registar</button>
                <button onclick="toggleForms()" class="w-full py-3 rounded-lg text-gray-700 font-medium bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 transition-all transform active:scale-95">Voltar</button>
            </div>

            <!-- Form Recuperação -->
            <div id="form-recuperacao" class="hidden space-y-4">
                <input type="email" id="rec-email" placeholder="Seu e-mail cadastrado" class="block w-full px-4 py-3 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white">
                <button onclick="solicitarRecuperacao()" class="w-full py-3 rounded-lg text-white font-bold bg-blue-600 hover:bg-blue-700">Enviar Link</button>
                <button onclick="voltarLogin()" class="w-full py-3 rounded-lg text-gray-700 font-medium bg-gray-100 dark:bg-gray-700">Voltar</button>
            </div>
        </div>
    </div>

    <!-- PÁGINA REDEFINIR SENHA -->
    <div id="
